# Stack Canaries



```text
mov    rcx,QWORD PTR [rbp-0x8]
xor    rcx,QWORD PTR fs:0x28
je     0xc5c <rand_function+237>
call   0x920 <__stack_chk_fail@plt>
leave
ret
```

In this case the stack canary is at `rbp-0x8`, just adjacent to the frame pointer.  If we overwrite a buffer, we'll overwrite this and the xor comparison will fail, resulting in an early exit from the program.

## Bypasses

A good starting point is to identify the system the binary is run on.  Stack canaries for at least Ubuntu systems begin with a null-byte.  This is intended to cut several exploitation techniques in their tracks, depending on how the data is read, as a null-byte will signify the end of a string for many C functions.  If such a situation ocurrs then an overflow may not be exploitable at all.

### Information Leak

An information leak such as a format string which allows you to read the stack can be leveraged in such a way as to leak the ori

### 

 

